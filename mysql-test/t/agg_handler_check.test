delimiter |;

create aggregate function increm(y INT) returns INT
begin
  declare  z int default 0;
  fetch group next row;
  set z= z+y;
  fetch group next row;
  set z= z+y;
  fetch group next row;
  set z= z+y;
  return z;
end|

delimiter ;|

create table t1 (sal int(10),id int(10));
INSERT INTO t1 (sal,id) VALUES (1000,1);
INSERT INTO t1 (sal,id) VALUES (2000,2);
INSERT INTO t1 (sal,id) VALUES (3000,2);
select increm(sal) from t1 where id>= 1;
drop table t1;
drop function increm;
