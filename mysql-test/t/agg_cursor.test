delimiter |;
create aggregate function increm(x INT) Returns int
begin
declare z int default 5;
DECLARE CONTINUE HANDLER FOR SQLSTATE '02000' RETURN z;
loop 
fetch group next row;
set z=z+x;
end loop;
return z;
end|

delimiter ;|

create table t1 (sal int(10),id int(10));
INSERT INTO t1 (sal,id) VALUES (1000,1);
INSERT INTO t1 (sal,id) VALUES (2000,2);
INSERT INTO t1 (sal,id) VALUES (3000,3);
INSERT INTO t1 (sal,id) VALUES (2300,4);
select increm(sal) from t1 where id>=1 ;
drop table t1;
drop function increm;

