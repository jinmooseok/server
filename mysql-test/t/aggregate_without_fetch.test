create table t1 (sal int);
delimiter |;
create aggregate function agg_sum(x INT) returns INT
begin
insert into t1(sal) values (x);
return x;
end|
delimiter ;|

create table t2 (sal int(10),id int(10));
INSERT INTO t2 (sal,id) VALUES (5000,1);
INSERT INTO t2 (sal,id) VALUES (2000,1);
INSERT INTO t2 (sal,id) VALUES (1000,1);
select agg_sum(-1);
select * from t1;
select agg_sum(-1) ;
select * from t1;
select agg_sum(-1) ;
select * from t1;
drop table t1;
drop table t2;
drop function agg_sum;
